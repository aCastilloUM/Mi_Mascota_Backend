# -------------------------
# App
# -------------------------
APP_NAME=profiles-svc
APP_ENV=dev
APP_HOST=0.0.0.0
APP_PORT=8080
LOG_LEVEL=INFO
REQUEST_ID_HEADER=X-Request-Id   # (no lo usamos aún, pero lo dejo alineado)

# Por compatibilidad de estilo con auth-svc (no lo usa profiles hoy):
PORT=8080

# -------------------------
# Database
# -------------------------
# Opción A (la que usa hoy profiles-svc):
DB_HOST=postgres
DB_PORT=5432
DB_USER=profiles_user
DB_PASSWORD=profiles_password
DB_NAME=profiles_db
DB_ECHO=false
DB_POOL_SIZE=10

# Opción B (solo si querés migrar a un único DATABASE_URL más adelante)
# DATABASE_URL=postgresql+asyncpg://profiles_user:profiles_password@postgres:5432/profiles_db
# DB_SCHEMA=public   # si más adelante separás por esquema

# -------------------------
# JWT / Tokens
# -------------------------
# Alineado con auth-svc (ahora mismo auth firma HS256 con JWT_SECRET):
JWT_ISSUER=mimascota-auth
JWT_AUDIENCE=mimascota-api

# Si luego pasás auth-svc a RS256, pegás la pública en base64 acá:
# JWT_PUBLIC_KEY_BASE64=

# Si quisieras validar HS256 de forma estricta desde profiles (compartiendo secreto),
# podríamos agregar en el código soporte a JWT_SECRET:
# JWT_SECRET=change-me-in-dev    # <-- solo si implementamos verificación HS256

# -------------------------
# CORS
# -------------------------
# Lo que profiles-svc lee hoy:
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# Alineado con tu auth-svc (no lo usamos hoy en profiles, pero lo dejo por simetría):
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
CORS_ALLOWED_HEADERS=Authorization,Content-Type,X-Request-Id
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS


KAFKA_BOOTSTRAP=kafka:9092
KAFKA_CLIENT_ID=profiles-svc
KAFKA_TOPIC_PROFILE_REGISTERED=profiles.client.registered.v1
# Toggle Kafka locally (set to false to avoid connection errors)
KAFKA_ENABLED=false

# -------------------------
# Media storage (MinIO)
# -------------------------
MINIO_ENABLED=false
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_BUCKET=profiles-media
# MINIO_PUBLIC_URL=http://localhost:9000/profiles-media
DB_SCHEMA=profiles
