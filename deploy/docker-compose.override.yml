services:
  auth-svc:
    environment:
      # Force auth-svc to use Railway DB for testing (override for local compose)
      DATABASE_URL: "postgresql+asyncpg://postgres:nHvixZvWWCaLFpXwTFsRrXMXXkETCEoI@shinkansen.proxy.rlwy.net:57241/railway"
      DB_SCHEMA: "auth"
  profiles-svc:
    environment:
      # Force profiles-svc to use the same Railway DB (Option A)
      DB_HOST: "shinkansen.proxy.rlwy.net"
      DB_PORT: "57241"
      DB_USER: "postgres"
      DB_PASSWORD: "nHvixZvWWCaLFpXwTFsRrXMXXkETCEoI"
      DB_NAME: "railway"
      DB_SCHEMA: "profiles"
      # Ensure Kafka is enabled so the consumer runs and processes user_verified events
      KAFKA_ENABLED: "true"
